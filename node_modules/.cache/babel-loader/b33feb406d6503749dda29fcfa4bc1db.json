{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/rohith/Documents/Projects/keeps-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"/home/rohith/Documents/Projects/keeps-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/home/rohith/Documents/Projects/keeps-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/rohith/Documents/Projects/keeps-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/rohith/Documents/Projects/keeps-backend/client/src/components/note-input-card/note-input-card.component.jsx\",\n    _templateObject;\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport gql from \"graphql-tag\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport clsx from \"clsx\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useForm } from \"../util/hooks\";\nvar useStyles = makeStyles({\n  root: {\n    // \"& .MuiTextField-root\": {\n    //   width: \"45ch\",\n    // },\n    // \"& .MuiInputBase-root\": {\n    //   width: \"45ch\",\n    // },\n    minWidth: 275,\n    paddingBottom: 1,\n    boxShadow: \"none\"\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 2\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\"\n  }\n});\nexport default function NoteInputCard() {\n  var _useForm = useForm(createNoteCallback, {\n    title: \"\",\n    body: \"\"\n  }),\n      values = _useForm.values,\n      onChange = _useForm.onChange,\n      onSubmit = _useForm.onSubmit;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      note = _useState4[0],\n      setNote = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      expanded = _useState6[0],\n      setExpanded = _useState6[1]; //expansion state of the card\n\n\n  var ref = useRef(null); // reference to tag to expand and compress\n\n  var classes = useStyles();\n\n  var _useMutation = useMutation(CREATE_POST_MUTATION, {\n    variables: values,\n    update: function update(proxy, result) {\n      var data = proxy.readQuery({\n        query: FETCH_POSTS_QUERY\n      });\n      data.getPosts = [result.data.createPost].concat(_toConsumableArray(data.getPosts));\n      proxy.writeQuery({\n        query: FETCH_POSTS_QUERY,\n        data: data\n      });\n      values.body = \"\";\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createPost = _useMutation2[0],\n      error = _useMutation2[1].error;\n\n  function createNoteCallback() {\n    createNote();\n  } //save the card data\n\n\n  useEffect(function () {\n    document.addEventListener(\"click\", compressCard, true);\n    return function () {\n      document.removeEventListener(\"click\", compressCard, true);\n    };\n  }); //adding listner on mount for clicks\n\n  var compressCard = function compressCard(event) {\n    if (ref.current && !ref.current.contains(event.target)) {\n      if (expanded === true) {\n        setExpanded(false);\n      }\n    }\n  }; //compress Input card on outside click\n\n\n  var expandCard = function expandCard() {\n    setExpanded(true);\n  }; // Express input card on click\n\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardActions, {\n    disableSpacing: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.expand, _defineProperty({}, classes.expandOpen, expanded)),\n    onClick: expandCard,\n    \"aria-expanded\": expanded,\n    \"aria-label\": \"show more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"Title\",\n    label: \"Title\",\n    variant: \"outlined\",\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note_text\",\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    in: expanded,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-multiline-static\",\n    multiline: true,\n    rows: 4,\n    label: \"input note here\",\n    variant: \"outlined\",\n    value: note,\n    onChange: function onChange(e) {\n      return setNote(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: saveNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Add\"))));\n}\nvar CREATE_POST_MUTATION = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  mutation createNote($title: String!, $body: String!) {\\n    id\\n    title\\n    body\\n    createAt\\n    username\\n  }\\n\"])));","map":{"version":3,"sources":["/home/rohith/Documents/Projects/keeps-backend/client/src/components/note-input-card/note-input-card.component.jsx"],"names":["React","useState","useEffect","useRef","gql","makeStyles","Card","CardActions","Collapse","clsx","Button","TextField","useMutation","useForm","useStyles","root","minWidth","paddingBottom","boxShadow","bullet","display","margin","transform","title","fontSize","pos","marginBottom","expand","marginLeft","NoteInputCard","createNoteCallback","body","values","onChange","onSubmit","setTitle","note","setNote","expanded","setExpanded","ref","classes","CREATE_POST_MUTATION","variables","update","proxy","result","data","readQuery","query","FETCH_POSTS_QUERY","getPosts","createPost","writeQuery","error","createNote","document","addEventListener","compressCard","removeEventListener","event","current","contains","target","expandCard","expandOpen","e","value","saveNote"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport gql from \"graphql-tag\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport clsx from \"clsx\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useForm } from \"../util/hooks\";\n\nconst useStyles = makeStyles({\n  root: {\n    // \"& .MuiTextField-root\": {\n    //   width: \"45ch\",\n    // },\n    // \"& .MuiInputBase-root\": {\n    //   width: \"45ch\",\n    // },\n    minWidth: 275,\n    paddingBottom: 1,\n    boxShadow: \"none\",\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 2,\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n  },\n});\n\nexport default function NoteInputCard() {\n  const { values, onChange, onSubmit } = useForm(createNoteCallback, {\n    title: \"\",\n    body: \"\",\n  });\n  const [title, setTitle] = useState(\"\");\n  const [note, setNote] = useState(\"\");\n  const [expanded, setExpanded] = useState(false); //expansion state of the card\n  const ref = useRef(null); // reference to tag to expand and compress\n  const classes = useStyles();\n\n  const [createPost, { error }] = useMutation(CREATE_POST_MUTATION, {\n    variables: values,\n    update(proxy, result) {\n      const data = proxy.readQuery({\n        query: FETCH_POSTS_QUERY,\n      });\n      data.getPosts = [result.data.createPost, ...data.getPosts];\n      proxy.writeQuery({ query: FETCH_POSTS_QUERY, data });\n      values.body = \"\";\n    },\n  });\n\n  function createNoteCallback() {\n    createNote();\n  } //save the card data\n\n  useEffect(() => {\n    document.addEventListener(\"click\", compressCard, true);\n    return () => {\n      document.removeEventListener(\"click\", compressCard, true);\n    };\n  }); //adding listner on mount for clicks\n\n  const compressCard = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      if (expanded === true) {\n        setExpanded(false);\n      }\n    }\n  }; //compress Input card on outside click\n\n  const expandCard = () => {\n    setExpanded(true);\n  }; // Express input card on click\n\n  return (\n    <Card className={classes.root} alignItems=\"center\">\n      <CardActions disableSpacing>\n        <div\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={expandCard}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <TextField\n            id=\"Title\"\n            label=\"Title\"\n            variant=\"outlined\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </div>\n      </CardActions>\n      <div className=\"note_text\" ref={ref}>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          {/* <center> */}\n          <TextField\n            id=\"outlined-multiline-static\"\n            multiline\n            rows={4}\n            label=\"input note here\"\n            variant=\"outlined\"\n            value={note}\n            onChange={(e) => setNote(e.target.value)}\n          />\n          {/* </center> */}\n          <Button onClick={saveNote}>Add</Button>\n        </Collapse>\n      </div>\n    </Card>\n  );\n}\n\nconst CREATE_POST_MUTATION = gql`\n  mutation createNote($title: String!, $body: String!) {\n    id\n    title\n    body\n    createAt\n    username\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}